<?xml version="1.0" encoding="UTF-8"?>
 <config>
	<modules>
		<Customweb_BarclaycardCw>
			<version>1.8.0</version>
		</Customweb_BarclaycardCw>
	</modules>
	<global>
		<models>
			<barclaycardcw>
				<class>Customweb_BarclaycardCw_Model</class>
				<resourceModel>barclaycardcw_mysql4</resourceModel>
			</barclaycardcw>
			<barclaycardcw_mysql4>
				<class>Customweb_BarclaycardCw_Model_Mysql4</class>
				<entities>
					<aliasdata>
						<table>barclaycardcw_alias_data</table>
					</aliasdata>
					<customercontext>
						<table>barclaycardcw_customer_context</table>
					</customercontext>
					<transaction>
						<table>barclaycardcw_transaction</table>
					</transaction>
					<storage>
						<table>barclaycardcw_storage</table>
					</storage>
					<externalcheckoutcontext>
						<table>barclaycardcw_external_checkout_context</table>
					</externalcheckoutcontext>
				</entities>
			</barclaycardcw_mysql4>
			
			<checkout>
				<rewrite>
					<cart>Customweb_BarclaycardCw_Model_Checkout_Cart</cart>
				</rewrite>
			</checkout>
		</models>
		<blocks>
			<barclaycardcw><class>Customweb_BarclaycardCw_Block</class></barclaycardcw>
			
			<adminhtml>
				<rewrite>
					<sales_order_invoice_view>Customweb_BarclaycardCw_Block_Adminhtml_Sales_Order_Invoice_View</sales_order_invoice_view>
				</rewrite>
			</adminhtml>
		</blocks>
		<helpers>
			<BarclaycardCw>
				<class>Customweb_BarclaycardCw_Helper</class>
			</BarclaycardCw>
		</helpers>
		<resources>
			<barclaycardcw_write>
				<connection>
					<use>core_write</use>
				</connection>
			</barclaycardcw_write>
			<barclaycardcw_read>
				<connection>
					<use>core_read</use>
				</connection>
			</barclaycardcw_read>
			<barclaycardcw_setup>
				 <setup>
				 	<module>Customweb_BarclaycardCw</module>
				 	<class>Customweb_BarclaycardCw_Model_Resource_Setup</class>
				 </setup>
			</barclaycardcw_setup>
		</resources>
		<events>
			<adminhtml_sales_order_invoice_view_construct>
				<observers>
					<barclaycardcw_invoice_view>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>invoiceView</method>
					</barclaycardcw_invoice_view>
				</observers>
			</adminhtml_sales_order_invoice_view_construct>
			<checkout_cart_init>
				<observers>
					<barclaycardcw_init_cart>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>initCart</method>
					</barclaycardcw_init_cart>
				</observers>
			</checkout_cart_init>
			<sales_order_place_after>
				<observers>
					<barclaycardcw_place_order>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>placeOrder</method>
					</barclaycardcw_place_order>
				</observers>
			</sales_order_place_after>
			<sales_order_save_after>
				<observers>
					<barclaycardcw_save_order>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>saveOrder</method>
					</barclaycardcw_save_order>
				</observers>
			</sales_order_save_after>
			<sales_order_payment_capture>
				<observers>
					<barclaycardcw_capture_payment>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>capturePayment</method>
					</barclaycardcw_capture_payment>
				</observers>
			</sales_order_payment_capture>
			<order_cancel_after>
				<observers>
					<barclaycardcw_cancel_order>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>cancelOrder</method>
					</barclaycardcw_cancel_order>
				</observers>
			</order_cancel_after>
			<controller_action_postdispatch_adminhtml_sales_order_create_save>
				<observers>
					<barclaycardcw_moto_after_save>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_MotoObserver</class>
						<method>postOrderSave</method>
					</barclaycardcw_moto_after_save>
				</observers>
			</controller_action_postdispatch_adminhtml_sales_order_create_save>
			<controller_action_predispatch_adminhtml_sales_order_create_save>
				<observers>
					<barclaycardcw_moto_before_save>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_MotoObserver</class>
						<method>beforeOrderSave</method>
					</barclaycardcw_moto_before_save>
				</observers>
			</controller_action_predispatch_adminhtml_sales_order_create_save>
			<load_customer_quote_before>
				<observers>
					<barclaycardcw_load_customer_quote_before>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>loadCustomerQuoteBefore</method>
					</barclaycardcw_load_customer_quote_before>
				</observers>
			</load_customer_quote_before>
			<customweb_externalcheckout_widgets_collect>
				<observers>
					<barclaycardcw_externalcheckout_widgets_collect>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>collectExternalCheckoutWidgets</method>
					</barclaycardcw_externalcheckout_widgets_collect>
				</observers>
			</customweb_externalcheckout_widgets_collect>
			
			<controller_front_init_before>
				<observers>
					<barclaycardcw_register_translation_resolver>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>registerTranslationResolver</method>
					</barclaycardcw_register_translation_resolver>
				</observers>
			</controller_front_init_before>
			
			<customer_login>
				<observers>
					<barclaycardcw_migrate_customer_transactions>
						<type>singleton</type>
						<class>Customweb_BarclaycardCw_Model_Observer</class>
						<method>migrateCustomerTransactions</method>
					</barclaycardcw_migrate_customer_transactions>
				</observers>
			</customer_login>
		</events>
		<sales>
			<order>
				<statuses>
					<canceled_barclaycardcw translate="label">
						<label><![CDATA[Canceled BarclaycardCw]]></label>
					</canceled_barclaycardcw>
					<pending_barclaycardcw translate="label">
						<label><![CDATA[Pending BarclaycardCw]]></label>
					</pending_barclaycardcw>
				</statuses>
				<states>
					<canceled>
						<statuses>
							<canceled_barclaycardcw />
						</statuses>
					</canceled>
					<pending_payment>
						<statuses>
							<pending_barclaycardcw />
						</statuses>
					</pending_payment>
				</states>
			</order>
		</sales>
	</global>

	<adminhtml>
		<layout>
			<updates>
				<barclaycardcw>
					<file>barclaycardcw.xml</file>
				</barclaycardcw>
			</updates>
		</layout>
		<translate>
			<modules>
				<Customweb_BarclaycardCw>
					<files>
						<default>Customweb_BarclaycardCw.csv</default>
					</files>
				</Customweb_BarclaycardCw>
			</modules>
		</translate>
	</adminhtml>
	
	<crontab>
		<jobs>
			<barclaycardcw_cron>
				<schedule>
					<cron_expr>*/5 * * * *</cron_expr>
				</schedule>
				<run>
					<model>barclaycardcw/CronObserver::executeCron</model>
				</run>
			</barclaycardcw_cron>
		</jobs>
	</crontab>

	<admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <Customweb_BarclaycardCw after="Mage_Adminhtml">Customweb_BarclaycardCw</Customweb_BarclaycardCw>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>

	<frontend>
		<secure_url>
			<barclaycardcw>/BarclaycardCw/</barclaycardcw>
		</secure_url>
		<blocks>
			<BarclaycardCw>
				<class>Customweb_BarclaycardCw_Block</class>
			</BarclaycardCw>
		</blocks>
		<layout>
			<updates>
				<barclaycardcw>
					<file>barclaycardcw.xml</file>
				</barclaycardcw>
			</updates>
		</layout>
		<routers>
			<BarclaycardCw>
				<use>standard</use>
				<args>
					<module>Customweb_BarclaycardCw</module>
					<frontName>BarclaycardCw</frontName>
				</args>
			</BarclaycardCw>
		</routers>
		
		<translate>
			<modules>
				<Customweb_BarclaycardCw>
					<files>
						<default>Customweb_BarclaycardCw.csv</default>
					</files>
				</Customweb_BarclaycardCw>
			</modules>
		</translate>
	</frontend>
	<default>
		<barclaycardcw>
			<general>
				<version>3.0.82</version>
				<operation_mode><![CDATA[test]]></operation_mode>
				<pspid><![CDATA[]]></pspid>
				<test_pspid><![CDATA[]]></test_pspid>
				<live_sha_passphrase_in><![CDATA[]]></live_sha_passphrase_in>
				<live_sha_passphrase_out><![CDATA[]]></live_sha_passphrase_out>
				<test_sha_passphrase_in><![CDATA[]]></test_sha_passphrase_in>
				<test_sha_passphrase_out><![CDATA[]]></test_sha_passphrase_out>
				<hash_method><![CDATA[sha512]]></hash_method>
				<order_id_schema><![CDATA[order_{id}]]></order_id_schema>
				<title><![CDATA[]]></title>
				<order_description_schema><![CDATA[Order {id}]]></order_description_schema>
				<template><![CDATA[default]]></template>
				<template_url><![CDATA[]]></template_url>
				<shop_id><![CDATA[]]></shop_id>
				<api_user_id><![CDATA[]]></api_user_id>
				<api_password><![CDATA[]]></api_password>
				<alias_usage_message><![CDATA[]]></alias_usage_message>
				<transaction_updates><![CDATA[inactive]]></transaction_updates>
				<debug_log>1</debug_log>
			</general>
		</barclaycardcw>
		<payment>
			<barclaycardcw_mastercard>
				<model>barclaycardcw/Method_MasterCard</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[MasterCard]]></title>
				<description><![CDATA[Pay with MasterCard]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<refusing_threshold><![CDATA[3]]></refusing_threshold>
				<three_d_secure_behavior><![CDATA[never]]></three_d_secure_behavior>
				<three_d_secure_country_list><![CDATA[]]></three_d_secure_country_list>
				<country_check><![CDATA[inactive]]></country_check>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
				<alias_manager><![CDATA[inactive]]></alias_manager>
			</barclaycardcw_mastercard><barclaycardcw_masterpass>
				<model>barclaycardcw/Method_MasterPass</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[MasterPass]]></title>
				<description><![CDATA[Pay with MasterPass]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<refusing_threshold><![CDATA[3]]></refusing_threshold>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
			</barclaycardcw_masterpass><barclaycardcw_creditcard>
				<model>barclaycardcw/Method_CreditCard</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[Credit Card]]></title>
				<description><![CDATA[Pay with Credit Card]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<payment_method_listing><![CDATA[2]]></payment_method_listing>
				<credit_card_brands><![CDATA[visa,mastercard,americanexpress,jcb,maestro,cartebleu,solo]]></credit_card_brands>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<refusing_threshold><![CDATA[3]]></refusing_threshold>
				<three_d_secure_behavior><![CDATA[never]]></three_d_secure_behavior>
				<three_d_secure_country_list><![CDATA[]]></three_d_secure_country_list>
				<country_check><![CDATA[inactive]]></country_check>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
				<alias_manager><![CDATA[inactive]]></alias_manager>
			</barclaycardcw_creditcard><barclaycardcw_americanexpress>
				<model>barclaycardcw/Method_AmericanExpress</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[American Express]]></title>
				<description><![CDATA[Pay with American Express]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<refusing_threshold><![CDATA[3]]></refusing_threshold>
				<country_check><![CDATA[inactive]]></country_check>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
				<alias_manager><![CDATA[inactive]]></alias_manager>
			</barclaycardcw_americanexpress><barclaycardcw_jcb>
				<model>barclaycardcw/Method_Jcb</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[JCB]]></title>
				<description><![CDATA[Pay with JCB]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<refusing_threshold><![CDATA[3]]></refusing_threshold>
				<country_check><![CDATA[inactive]]></country_check>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
			</barclaycardcw_jcb><barclaycardcw_visa>
				<model>barclaycardcw/Method_Visa</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[Visa]]></title>
				<description><![CDATA[Pay with Visa]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<refusing_threshold><![CDATA[3]]></refusing_threshold>
				<three_d_secure_behavior><![CDATA[never]]></three_d_secure_behavior>
				<three_d_secure_country_list><![CDATA[]]></three_d_secure_country_list>
				<country_check><![CDATA[inactive]]></country_check>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
				<alias_manager><![CDATA[inactive]]></alias_manager>
			</barclaycardcw_visa><barclaycardcw_maestro>
				<model>barclaycardcw/Method_Maestro</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[Maestro]]></title>
				<description><![CDATA[Pay with Maestro]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<refusing_threshold><![CDATA[3]]></refusing_threshold>
				<country_check><![CDATA[inactive]]></country_check>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
			</barclaycardcw_maestro><barclaycardcw_paypal>
				<model>barclaycardcw/Method_PayPal</model>
				<active><![CDATA[0]]></active>
				<title><![CDATA[PayPal]]></title>
				<description><![CDATA[Pay with PayPal]]></description>
				<show_image><![CDATA[1]]></show_image>
				<show_payment_id><![CDATA[1]]></show_payment_id>
				<Currency><![CDATA[1]]></Currency>
				<use_base_currency><![CDATA[0]]></use_base_currency>
				<allowspecific><![CDATA[0]]></allowspecific>
				<specificcountry><![CDATA[]]></specificcountry>
				<sort_order><![CDATA[]]></sort_order>
				<min_order_total><![CDATA[]]></min_order_total>
				<max_order_total><![CDATA[]]></max_order_total>
				<settlement><![CDATA[settlement_direct]]></settlement>
				<invoice_send_email><![CDATA[0]]></invoice_send_email>
				
				<capturing><![CDATA[direct]]></capturing>
				<status_authorized><![CDATA[pending]]></status_authorized>
				<status_uncertain><![CDATA[holded]]></status_uncertain>
				<status_captured><![CDATA[no_status_change]]></status_captured>
				<status_success_after_uncertain><![CDATA[no_status_change]]></status_success_after_uncertain>
				<status_refused_after_uncertain><![CDATA[no_status_change]]></status_refused_after_uncertain>
				<authorizationMethod><![CDATA[PaymentPage]]></authorizationMethod>
			</barclaycardcw_paypal>
		</payment>
	</default>
</config>
